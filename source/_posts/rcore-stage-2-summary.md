---
title: rcore-stage-2-summary
date: 2025-10-24 20:52:32
categories:
    - blog for summary
tags:
    - author:GuoGuo614
    - repo: https://github.com/LearningOS/2025a-rcore-GuoGuo614.git
    - os-kernel
    - rcore
    - summary
    - rust
---

# rCore-2025-autumn OS内核实现阶段-总结
## 学习过程
- 我在认为自己rust基础差不多了，能handle一个大型项目之后就开了rcore.
- 因为有南大PA的基础，前几章没啥难度，做得比较快。一开始打算用v3仓库，对着v3课本一点点手敲出来。但是后来发现代码量越来越大，讲义里面也没法把所有添加的代码都贴出来，所以敲了第一章后就作罢了。不过敲第一章让我理解怎么在qemu上启动我们的内核，还是蛮重要的。
- 前五章我用的是v3课本，把讲义和源码细细啃了之后才去做的实验，所以实验实际上没有很难，但是虚拟内存那一章还是花了很多时间的，读下来收获很大。
- 后三章我就用的指导书了，因为第六章的代码实在太多，想自底向上全部理解有一定难度，所以我在看了指导书、自己理解部分代码后就去做了实验。
  - 因为实验实际上没有考察到那么底层，只要理解了上面几层的接口就可以做出来了，不过之后还是回来细啃了全部源代码。
- 另外还熟练掌握了patch打补丁的方法。
## 学习感想
- 非常棒的项目，用rust语言一步一步优雅地实现了一个os内核，难度曲线很友好。
- 实际学习方式和一开始的预想还是有些出入，rcore是每一章都把该有的内核给出来了，文档实际上不是带你搓操作系统的过程而是带你读源码的过程。
  - 相应的，实验也不是完善基础内核的过程，而是在基础内核上添加系统调用等“额外功能”的过程。
  - 也完成了对内核理解的考察，但是感觉得到的训练没有搭建自己的内核，甚至说做到后面要来调试前面实现的部分那样的学习方式来得多。
- 还有就是原本想练习gdb调试的，但要么就是实验太简单没机会调试，要么就是打开之后没法设断点什么的，大型项目还是调不来，最后还是老实回归debug宏输出了。
## 难点与踩坑记
- 第六章源码很难读，现在都没有全部啃明白。
- 第八章手册挺简单的，但lab是我感觉最难的，理解全局的锁检测、设计自己的数据结构花了很多时间，具体都在ch8的总结里，就不多说了。
- 还有很多地方出现了页对齐之类的什么对齐，感觉自己基本上都糊弄过去了，也没有吃到亏。之后肯定会吃亏的，希望自己调不出bug的时候可以发现这个东西。
